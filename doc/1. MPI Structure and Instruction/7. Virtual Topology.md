# 7. Virtual Topology
- Author: JaeDuk Yoo(woejr120@gmail.com)
- Date: 2019.07.13
---
---
## Virtual Topology
### Topology
- 실제 세계에선 클러스터 내의 모든 노드는 같은 위상에 존재한다. 즉, 하나의 큰 데이터를 분할하여 각 노드에 할당해줄때, 각각 어떤 노드에 어느 위치의 데이터가 할당될지 알 수 없다.
- 이와 같은 문제를 해결하기 위해 노드들 사이에 가상의 위상을 정해준다.

#### 1. Cartesian Model
- 2차원 혹은 3차원 격자에 각 노드들을 mapping하는 방식.
- 그래프 모델에 비해 이해하기 쉽지만 성능면에선 한계가 있다.
```text
    Raw Data           Sepearted Data     
[            ] ---> [   ][   ][   ][   ]    [   ] -> 1 process task
[            ]      [   ][   ][   ][   ]
[            ]      [   ][   ][   ][   ]
[            ]      [   ][   ][   ][   ]

[   ][   ][   ][   ][   ][   ][   ][   ][   ][   ][   ][   ][   ][   ][   ][   ] 
-> 일반적인 클러스터 구조. 서로 같은 위상에 존재하며 분리된 데이터를 랜덤으로 배정해준다. 즉, 정보를 취합하기 위해선 마스터 노드가 어떤 프로세서에 어떤 데이터가 배정되었는지 알고 있어야 함.

[0,0][0,1][0,2][0,3]
[1,0][1,1][1,2][1,3]
[2,0][2,1][2,2][2,3]
[3,0][3,1][3,2][3,3]
-> 가상으로 위상이 분배된 클러스터 구조. 각 프로세서는 Raw Data의 정해진 부분을 담당하기 때문에 마스터 노드가 이에 대한 정보가 따로 필요 없다.
```
- 각 노드가 처리하는 데이터의 위치를 직교 좌표계 형태로 정해둔다고 생각하면 됨.
- 이때, 일반적으로 서로 인접해있는 노드끼리만 통신이 가능하도록 허락해준다. -> 성능의 한계가 있는 결정적인 이유

#### 2. Graph Model
- 말 그대로 그래프 형태로 통신망을 설계하는 것을 의미한다.
- Cartesian Model보다 효율적이지만, 약간 더 난이도가 높은 편
---
### Cartesian Model

---
### 대응 함수
---
### Toppology Split
---